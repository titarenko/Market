@model IEnumerable<Market.Cqrsnes.Projection.Models.Offer>

@{
    ViewBag.Title = "Offers";
    ViewBag.Tagline = "available offers from all stores";
}

@if (Model.Any())
{
    <table>
        <thead>
            <tr>
                <th>Article</th>
                <th>Store</th>
                <th>Price</th>
                <th>Count</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var offer in Model)
            {
                <tr>
                    <td>@offer.ArticleName</td>
                    <td>@offer.StoreName</td>
                    <td>@offer.Price</td>
                    <td>@offer.Count</td>
                    <td>
                        <form action="@Url.Action("Buy")" method="POST">
                            <input type="hidden" name="offerId" value="@offer.Id"/>
                            <div class="clearfix">
                                <label for="count">Count:</label>
                                <div class="input">
                                    <input type="text" class="input-small" name="count" id="count" />
                                    <button class="btn" type="submit">Buy</button>
                                </div>
                            </div>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>There are no offers yet.</p>
}
